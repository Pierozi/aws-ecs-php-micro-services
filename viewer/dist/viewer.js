if(undefined===Hoa)var Hoa={};Hoa.Graph=Hoa.Graph||function(__document__,__width__,__height__){var paper=this;var Element=function(name){var that=this;var translate=null;this.type=name;this.parent=__document__;this.node=document.createElementNS("http://www.w3.org/2000/svg",name);this.append=function(element){that.node.appendChild(element.node);element.parent=that;return that};this.remove=function(element){that.node.removeChild(element.node);element.parent=null;return that};this.attr=function(object){if("string"===typeof object)return that.node.getAttribute(object);for(key in object)that.node.setAttribute(key,object[key]);return that};this.getBBox=function(){var bbox=that.node.getBBox();if(null===translate)return bbox;return{height:bbox.height,width:bbox.width,x:bbox.x+translate.x,y:bbox.y+translate.y}};this.move=function(x,y){var dx=null;var dy=null;var bbox=that.getBBox();var type=that.type;if("string"===typeof x){sign=x.charAt(0);if("+"===sign||"-"===sign){dx=parseInt(x);x=bbox.x+dx}else x=parseInt(x)}if("string"===typeof y){sign=y.charAt(0);if("+"===sign||"-"===sign){dy=parseInt(y);y=bbox.y+dy}else y=parseInt(y)}if("g"===type||"path"===type){if(null===dx)dx=x-bbox.x;if(null===dy)dy=y-bbox.y;if(null===translate)translate={x:dx,y:dy};else{translate.x+=dx;translate.y+=dy}that.attr({transform:"translate("+translate.x+", "+translate.y+")"});return that}if("text"===type||"circle"===type){if(null!==dx)x+=dx+bbox.width/2;if(null!==dy)y+=dy+bbox.height/2}if("circle"===type){var r=bbox.width/2;that.attr({cx:x+r,cy:y+r});return that}that.attr({x:x,y:y});return that};return this};this.element=function(name){var element=new Element(name);svg.append(element);return element};this.rect=function(x,y,width,height,radius,text){var group=new Element("g");svg.append(group);var rect=new Element("rect");rect.attr({x:x,y:y,width:width,height:height,rx:radius||3,ry:radius||3,fill:"url(#boxFill)",stroke:"#fff","stroke-width":"2px",filter:"url(#shadow)"});group.append(rect);if(undefined!==text){var textBox=paper.text(x+width/2,y+height/2,text).attr({fill:"#ffffbe"});group.append(textBox)}return group};this.circle=function(cx,cy,r){var circle=new Element("circle");circle.attr({cx:cx,cy:cy,r:r||10,fill:"url(#boxFill)",stroke:"#fff","stroke-width":"2px",filter:"url(#shadow)"});svg.append(circle);return circle};this.text=function(x,y,text){var text_=new Element("text");text_.attr({x:x,y:y,fill:"#000","text-anchor":"middle","dominant-baseline":"middle"});text_.node.textContent=text;svg.append(text_);return text_};this.path=function(){var path=new Element("path");path.attr({fill:"none",stroke:"#000","stroke-width":"1px"});svg.append(path);return path};this.grid=function(x,y,width,height,columns,lines){var matrix=[];var columnWidth=width/columns;var lineHeight=height/lines;var stepX=columnWidth/2;var accX=x;var accY=y+lineHeight/2;for(var l=0;l<lines;++l){accX=x;matrix[l]=[];for(var c=0;c<columns;++c){matrix[l][c]={x:accX+=stepX,y:accY};accX+=stepX}accY+=lineHeight}return{push:new function(){var lastPosition=-1;return function(element,ix,iy){var position=null;if(undefined===iy)position=ix||null;else if(undefined!==ix)position=iy*columns+ix;if(null===position)position=lastPosition+1;var point=matrix[Math.floor(position/columns)][position%columns];var bbox=element.getBBox();element.move(point.x-bbox.width/2,point.y-bbox.height/2);lastPosition=position;return element}}}};this.link=new function(){var compute=function(from,to){var fromBbox=from.getBBox();var toBbox=to.getBBox();var fx=fromBbox.x;var fy=fromBbox.y;var fw=fromBbox.width;var fh=fromBbox.height;var tx=toBbox.x;var tw=toBbox.width;var fw2=fw/2;var fh2=fh/2;var ax=fx+fw2;var by=toBbox.y+toBbox.height/2;var cx=tx+tw/2;var cy=fy+fh2;var d=fw2/(cx-ax)*(cy-by);var points={fromX:fx+fw,fromY:fy+fh/2-d,toX:tx,toY:by+d,markerX:1};if(points.fromX>points.toX){var dd=d*2;points.fromX-=fw;points.fromY+=dd;points.toX+=tw;points.toY-=dd;points.markerX=-1}points.fromCX=points.toX-(points.toX-points.fromX)/2;points.fromCY=points.fromY;points.toCX=points.fromCX;points.toCY=points.toY;return points};this.between=function(from,to,text){var link=paper.path().attr({"marker-end":"url(#arrow)"});var textBox=null;if(undefined!==text)textBox=paper.text(0,0,text).attr({fill:"#f18d05","font-size":"80%"});var out={};out.element=link;out.text=textBox;out.repaint=function(from,to,line){return function(){var points=compute(from,to);line.attr({d:"M "+points.fromX+","+points.fromY+" C"+points.fromCX+","+points.fromCY+" "+points.toCX+","+points.toCY+" "+(points.toX-8*points.markerX)+","+points.toY});if(null!==textBox)textBox.move((points.fromX+points.toX)/2,(points.fromY+points.toY)/2-20);return this}}(from,to,link);out.repaint();return out}};var svg=new Element("svg");svg.attr({version:"1.1",viewBox:"0 0 "+__width__+" "+__height__});__document__.appendChild(svg.node);this.svg=svg;return this};"use strict";var Hoa=Hoa||{};Hoa.nop=function(){};Hoa.〱true=Hoa.top=function(){return true};Hoa.〱false=Hoa.bottom=function(){return false};Hoa.ℙ=new function(){var decision=typeof WorkerGlobalScope==="undefined";return function(n){return decision?1==n:1<n}};Hoa.ℙ(1)&&(Hoa.$=Hoa.$||function(query,element){if(undefined===element)element=document;return element.querySelector(query)});Hoa.ℙ(1)&&(Hoa.$$=Hoa.$$||function(query,element){if(undefined===element)element=document;return element.querySelectorAll(query)});Hoa.ℙ(1)&&(Hoa.log=Hoa.log||new function(){var i=0;return function(message){for(var j=0,max=arguments.length;j<max;++j)console.log("#"+i+++" "+arguments[j]+"\n")}});Hoa.uuid=Hoa.uuid||new function(){var rand=function(up,or){return(Math.random()*up|(or||0)).toString(16).hoa.pad(4,"0")};return function(){return rand(65535)+rand(65535)+"-"+rand(65535)+"-"+rand(4095,16384)+"-"+rand(16383,32768)+"-"+rand(65535)+rand(65535)+rand(65535)}};Hoa.namespace=Hoa.namespace||new function(){var defined=[];var map=[];var merge=function(first,second){for(var i in first)if(undefined!==second[i])merge(first[i],second[i]);else second[i]=first[i]};return function(subjects,callback,onprototype){subjects.forEach(function(subject){var index=defined.indexOf(subject);if(-1===index){index=defined.push(subject)-1;map.push([]);Object.defineProperty(false!==onprototype?subject.prototype:subject,"hoa",{get:function(){var prototype={};var callbacks=map[index];var callback=null;var proto=null;for(var c in callbacks){callback=callbacks[c];if(true!==callback.guard(this))continue;proto=callback.body(this);merge(proto,prototype)}return prototype},set:undefined,configurable:false,enumerable:false})}map[index].push(callback)})}};Hoa.namespace([Object],{guard:Hoa.〱true,body:function(element){return{extend:function(object){if(undefined===object)return element;object.hoa.forEach(function(key){Object.defineProperty(element,key,Object.getOwnPropertyDescriptor(object,key))});return element},forEach:function(callback){Object.keys(element).forEach(callback);return element},getter:function(name,callback){Object.defineProperty(element,name,{get:callback,set:undefined,configurable:false,enumerable:false});return element}}}});Hoa.namespace([Function],{guard:Hoa.〱true,body:function(element){return{curry:function(){var args=Array.prototype.slice.call(arguments);var margs=args.length;return function(){var handle=[];for(var i=0,j=0;i<margs;++i)if(undefined==args[i])handle[i]=arguments[j++];else handle[i]=args[i];for(var max=arguments.length;j<max;++j)handle[i++]=arguments[j];return element.apply(this,handle)}}}}});Hoa.namespace([String],{guard:Hoa.〱true,body:function(element){return{pad:function(length,piece,end){var string=element.toString();var difference=length-string.length;if(0>=difference)return string;var handle="";for(var i=difference/piece.length-1;i>=0;--i)handle+=piece;handle+=piece.substring(0,difference-handle.length);return end?string.concat(handle):handle.concat(string)}}}});Hoa.ℙ(1)&&(Hoa.Document=Hoa.Document||new function(){var callbacks=[];this.onReady=function(callback){if("complete"!==document.readyState)callbacks.push(callback);else callback();return};document.addEventListener("readystatechange",function(){if("complete"!==document.readyState)return;for(var c in callbacks)callbacks[c]();return})});Hoa.ℙ(1)&&(Hoa.DOM=Hoa.DOM||new function(){var that=this;this.element=function(name,children,attributes,ns){var node=null;if(undefined!==ns)node=document.createElementNS(ns,name);else node=document.createElement(name);if(undefined!==attributes)attributes.hoa.forEach(function(attribute){node.setAttribute(attribute,attributes[attribute])});if(undefined===children)return node;if(typeof children==="string")node.appendChild(that.text(children));else children.forEach(function(child){node.appendChild(child)});return node};this.text=function(text){return document.createTextNode(text)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","map","mark","menu","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"].forEach(function(name){that[name]=that.element.hoa.curry(name)})});Hoa.Concurrent=Hoa.Concurrent||new function(){this.after=function(delay,callback){return setTimeout.apply(null,[callback,delay].concat(Array.prototype.slice.call(arguments,2)))};this.every=function(delay,callback,asynchronous){if(asynchronous){this.stop=function(){clearInterval(intervalId)};var intervalId=setInterval(callback.bind.apply(callback,[this].concat(Array.prototype.slice.call(arguments,3))),delay)}else{var _stop=false;this.stop=function(){_stop=true};callback=callback.bind(this);var args=Array.prototype.splice.call(arguments,3);var handle=function(){if(true==_stop)return;callback.apply(null,args);Hoa.Concurrent.after(delay,handle)};handle()}return this};this.delay=function(delay,callback){var args=arguments;var timeoutId=null;var cancel=function(){if(null===timeoutId)return;clearTimeout(timeoutId);timeoutId=null};return function(){cancel();timeoutId=Hoa.Concurrent.after.apply(null,[delay,callback.bind(this)].concat(Array.prototype.slice.call(arguments)).concat(Array.prototype.slice.call(args,2)))}};this.Scheduler=function(){var queue=[];var running=false;var terminate=function(){var task=queue.shift();if(undefined===task){running=false;return}task.run();if(-1==task.state)return;task.terminate()};this.schedule=function(task){queue.push(new this.TaskTemplate(task));return this};this.wait=function(delay){this.schedule(function(){var that=this;this.wait();Hoa.Concurrent.after(delay,function(){that.terminate()})});return this};this.join=new function(){var innerTerminate=function(i,parentTerminate){return function(){if(0==i--)parentTerminate()}};return function(){var tasks=[];var i=arguments.length-1;for(var e=i;e>=0;--e)tasks.unshift(queue.pop());this.schedule(function(){this.wait();var _terminate=innerTerminate(i,this.terminate);tasks.forEach(function(task){Hoa.Concurrent.after(0,function(){task.terminate=_terminate;task.run();if(-1==task.state)return;task.terminate()})})});return this}};this.spawn=function(){if(true==running)return;terminate()};this.TaskTemplate=function(task){var state=0;this.hoa.getter("state",function(){return state});this.wait=function(){state=-1};this.terminate=terminate;this.run=function(){running=true;task.bind(this)();return this}}}};Hoa.Event=Hoa.Event||new function(){var delegator=document;return{from:function(deleg){delegator=deleg;return this},on:function(type,selector,handler,data,useCapture){var handle=delegator;delegator=document;return handle.addEventListener(type,function(evt){if(null===evt.target)return;var i=Array.prototype.slice.call(Hoa.$$(selector,handle)).indexOf(evt.target);if(i<0)return;handler(evt,data);return},undefined===useCapture?false:useCapture)},bareOn:function(type,handler,useCapture){var handle=delegator;delegator=document;return handle.addEventListener(type,handler,undefined===useCapture?false:useCapture)},off:function(type,handler,useCapture){var handle=delegator;delegator=document;return handle.removeEventListener(type,handler,undefined===useCapture?false:useCapture)}}};Hoa.ℙ(1)&&Hoa.namespace([HTMLFormElement],{guard:Hoa.〱true,body:function(element){if(undefined===element._hoa)element._hoa={store:{events:[]}};var events=element._hoa.store.events;return{async:{addEventListener:function(type,listener,useCapture){events.push({type:type,listener:listener,useCapture:useCapture||false})},removeEventListener:function(type,listener,useCapture){events.forEach(function(el,index,array){if(type!=el.type&&listener!=el.listener)return;array.splice(index,1)})}},foreachElements:function(callback){var elements=element.elements;for(var i=elements.length-1;i>=0;--i)callback(elements.item(i),i,elements)},enable:function(){element.setAttribute("aria-disabled","false");this.foreachElements(function(el){if(undefined==el.disabled)return;el.disabled=false})},disable:function(){element.setAttribute("aria-disabled","true");this.foreachElements(function(el){if(undefined==el.disabled)return;el.disabled=true})}}}});Hoa.ℙ(1)&&Hoa.namespace([HTMLFormElement,HTMLInputElement,HTMLButtonElement,HTMLAnchorElement],{guard:function(element){if(element instanceof HTMLFormElement)return element.hasAttribute("data-formasync")||element.hasAttribute("data-async");if(element instanceof HTMLInputElement||element instanceof HTMLButtonElement)return element.form.hasAttribute("data-formasync")||element.form.hasAttribute("data-async");if(!(element instanceof HTMLAnchorElement))return false;var p=element;while(null!==(p=p.parentElement))if(p instanceof HTMLFormElement&&(p.hasAttribute("data-formasync")||p.hasAttribute("data-async"))){element.form=p;return true}return false},body:function(element){var sQuery=/(?:\?q(?:uery)?:)?(.*)/;var sRQuery=/\?r(?:elative-)?q(?:uery)?:(.*)/;var sXpath=/\?x(?:path)?:(.*)/;return{async:{getScopedElements:function(){var scope=element.getAttribute("data-asyncscope")||element.form.getAttribute("data-asyncscope");var scoped=null;var match=null;if(null!==(match=sQuery.exec(scope)))scoped=Hoa.$$(match[1]);else if(null!==(match=sRQuery.exec(scope)))scoped=Hoa.$$(match[1],element.form);else if(null!==(match=sXpath.exec(scope))){console.log("todo")}else return null;return scoped}}}}});Hoa.Async=Hoa.Async||new function(){var events=["readystatechange","abort","error","load","loadend","loadstart","progress","timeout","popstate","pushstate"];Hoa.ℙ(1)&&Hoa.Document.onReady(function(){var selector="form[data-formasync] input, "+"form[data-async] button, "+"form[data-async] a";var getForm=function(p){while(null!==(p=p.parentElement)&&(false===p.hasAttribute("data-async")&&false===p.hasAttribute("data-formasync")));return p};var submit=function(form,evt){evt.preventDefault();var submit=evt.target;Hoa.Async.sendForm(submit.form,submit.getAttribute("formmethod"),submit.getAttribute("formaction"))};var button=function(form,evt){evt.preventDefault();var button=evt.target;Hoa.Async.sendForm(button.form,button.getAttribute("data-asyncmethod"),button.getAttribute("data-asyncaction"),{scoped:button.hoa.async.getScopedElements()})};var anchor=function(form,evt){if(undefined===window.history||0!==evt.button)return;var anchor=evt.target;var pushstate={state:{formId:form.getAttribute("id")},title:anchor.getAttribute("title"),form:form,action:anchor.getAttribute("href"),uri:anchor.getAttribute("href"),method:"get"};if(undefined!==form._hoa)form._hoa.store.events.forEach(function(el){if("pushstate"!==el.type)return;el.listener(evt,pushstate)});if(null===pushstate.uri)return evt.preventDefault();if("#"===pushstate.uri.charAt(0))return;try{window.history.pushState(pushstate.state,pushstate.title,pushstate.uri)}catch(e){return}evt.preventDefault();Hoa.Async.sendForm(form,pushstate.method,pushstate.action,{link:true,scoped:anchor.hoa.async.getScopedElements()},{"Content-Type":document.contentType||"text/html"});return};Hoa.Event.on("click",selector,function(evt){var target=evt.target;var form=getForm(target);if(null===form)return;switch(target.nodeName){case"INPUT":if("submit"===evt.target.getAttribute("type"))return submit(form,evt);break;case"BUTTON":if("submit"===evt.target.type)return button(form,evt);break;case"A":return anchor(form,evt);break}return});window.addEventListener("popstate",function(evt){var state=evt.state;if(null===state||undefined===state.formId)return;var form=Hoa.$("#"+state.formId);if(undefined===form)return;form._hoa.store.events.forEach(function(el){if("popstate"!==el.type)return;el.listener(evt)});return})});this.XHR=new function(){var handle=null;if(undefined!==(handle=XMLHttpRequest)){XMLHttpRequest.prototype.STATE_UNSENT=0;XMLHttpRequest.prototype.STATE_OPENED=1;XMLHttpRequest.prototype.STATE_HEADERS_RECEIVED=2;XMLHttpRequest.prototype.STATE_LOADING=3;XMLHttpRequest.prototype.STATE_DONE=4;return function(){return new handle}}else if(undefined!==(handle=ActiveXObject))return function(){return new handle("Microsoft.XMLHTTP")}};this.defaultReadyStateChangeEvent=function(){var delay=null;return function(evt,data){var scoped=data.scoped;if(null==scoped)return;var s=scoped.item(0);if(null===s)return;if(this.STATE_OPENED==this.readyState){delay=delay||Hoa.Concurrent.after(250,function(){s.setAttribute("data-latency",">250")});s.setAttribute("aria-busy","true");return}if(this.STATE_DONE!=this.readyState||200!=this.status)return;clearTimeout(delay);s.innerHTML=this.responseText;var scripts=s.querySelectorAll("script");for(var i=0,max=scripts.length;i<max;++i){var script=document.createElement("script");script.setAttribute("type","text/javascript");script.textContent=scripts.item(i).textContent;document.head.appendChild(script);document.head.removeChild(script)}s.setAttribute("aria-busy","false");s.removeAttribute("data-latency");return}};Hoa.ℙ(1)&&(this.sendForm=function(form,method,action,extra,headers){method=method||form.method;action=action||form.action;var data=new FormData(form);var request=Hoa.Async.XHR();headers={"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"}.hoa.extend(headers);var handle=null;if(undefined===form._hoa)handle=[{type:"readystatechange",listener:this.defaultReadyStateChangeEvent(),useCapture:false}];else{handle=form._hoa.store.events.filter(function(el){return"readystatechange"===el.type});if(0===handle.length)handle=[{type:"readystatechange",listener:this.defaultReadyStateChangeEvent(),useCapture:false}]}handle.forEach(function(el){if(-1===events.indexOf(el.type)||"popstate"===el.type||"pushstate"===el.type)return;request.addEventListener(el.type,el.listener.hoa.curry(undefined,{form:form,method:method,action:action,formData:data,headers:headers}.hoa.extend(extra)),el.useCapture)});request.open(method,action,true);headers.hoa.forEach(function(name){request.setRequestHeader(name,headers[name])});var ariaBusy=form.hasAttribute("data-formasync");if(true===ariaBusy)form.setAttribute("aria-busy","true");request.send(data);if(true===ariaBusy)form.setAttribute("aria-busy","false")})};Hoa.ℙ(1)&&(Hoa.Checkpoint=Hoa.Checkpoint||new function(){var getDimensions=function(client){if(undefined===client)return{height:window.innerHeight,width:window.innerWidth};return{height:client.clientHeight,width:client.clientWidth}};Hoa.namespace([HTMLDivElement],{guard:function(element){return element.hasAttribute("data-checkpoint")},body:function(element){var scoped=undefined;return{isVisible:function(where,client){var rect=element.getBoundingClientRect();var dim=getDimensions(client);switch((where||"*").charAt(0)){case"t":return rect.top>=0&&rect.top<dim.height;case"b":return rect.bottom>=0&&rect.bottom<dim.height;case"l":return rect.left>=0&&rect.left<dim.width;case"r":return rect.right>=0&&rect.right<dim.width;default:return rect.top<dim.height&&rect.bottom>=0&&rect.left<dim.width&&rect.right>=0}},distance:function(where){var opposite=null;var rect=element.getBoundingClientRect();var w=null;switch(where.charAt(0)){case"t":w=function(){return rect.top};opposite="b";break;case"b":w=function(){return rect.bottom};opposite="t";break;case"l":w=function(){return rect.width};opposite="r";break;case"r":w=function(){return rect.right};opposite="l";break;default:return null}return{to:function(el,ewhere){if(undefined===ewhere)ewhere=opposite;var erect=el.getBoundingClientRect();switch(ewhere.charAt(0)){case"t":return erect.top-w();case"b":return erect.bottom-w();case"l":return erect.left-w();case"r":return erect.right-w();default:return false}}}},in:function(top,right,bottom,left,strict,client){var dim=getDimensions(client);var abs=null;if(undefined===client)abs=document.body.getBoundingClientRect();else abs=client.getBoundingClientRect();var _top=Math.max(0,-abs.top);var _left=Math.max(0,-abs.left);var rectangle={top:_top+dim.height*top/100,right:_left+dim.width-dim.width*right/100,bottom:_top+dim.height-dim.height*bottom/100,left:_left+dim.width*left/100};var rect=element.getBoundingClientRect();if(undefined===strict||true===strict)return rectangle.top<=_top+rect.top&&rectangle.bottom>=_top+rect.top+rect.height&&rectangle.left<=_left+rect.left&&rectangle.right>=_left+rect.left+rect.width;return rectangle.top<=_top+rect.top+rect.height&&rectangle.bottom>=_top+rect.top&&rectangle.left<=_left+rect.left+rect.width&&rectangle.right>=_left+rect.left},getScoped:function(){if(undefined!==scoped)return scoped;var scope=element.getAttribute("data-for");if(null===scope)return scoped=null;return scoped=Hoa.$("#"+scope)}}}});this.getCheckpoints=function(className){return Hoa.$$("[data-checkpoint]"+(className||""))}});Hoa.Keyboard=Hoa.Keyboard||new function(){this.TAB=9;this.ENTER=13;this.ESC=27;this.SPACE=32;this.PAGEUP=33;this.PAGEDOWN=34;this.END=35;this.HOME=36;this.LEFT=37;this.UP=38;this.RIGHT=39;this.DOWN=40};Hoa.ℙ(1)&&(Hoa.Tabs=Hoa.Tabs||new function(){var that=this;var tabs=[];var TabTemplate=function(tab){var selected=null;var tablist=[];var tabpanel=[];var _tablist=Hoa.$$('[role="tablist"] [role="tab"]',tab);var _tabitem=null;var _controls=null;var _tabpanel=null;for(var i=0,max=_tablist.length;i<max;++i){_tabitem=_tablist[i];if(undefined===(_controls=_tabitem.getAttribute("aria-controls")))continue;_tabpanel=Hoa.$('[role="tabpanel"][id="'+_controls+'"]',tab);if(null===_tabpanel||_tabpanel.getAttribute("aria-labelledby")!==_tabitem.getAttribute("id"))continue;_tabitem.setAttribute("data-tab-index",i);tablist[i]=_tabitem;tabpanel[i]=_tabpanel;if("true"==_tabitem.getAttribute("aria-selected"))selected=i}this.add=function(id,name){var handle=Hoa.$('[role="tablist"]',tab);var i=Hoa.$$('li[role="presentation"]',handle).length;var id="hoa_tabs_auto_"+i;var _tabitem=Hoa.DOM.a(name,{href:"#"+id,role:"tab","aria-controls":id,"aria-selected":"false",tabindex:"-1",id:id+"__tab","data-tab-index":i});tablist[i]=_tabitem;handle.appendChild(Hoa.DOM.li([_tabitem],{role:"presentation"}));var _tabpanel=Hoa.DOM.div(undefined,{id:id,role:"tabpanel","aria-hidden":"true","aria-expanded":"false","aria-labelledby":id+"__tab"});tab.appendChild(_tabpanel);tabpanel[i]=_tabpanel;if(null===selected)this.select(i);return _tabpanel};this.remove=function(i){};this.getPanel=function(i){return tabpanel[i]};this.select=function(i){if(0>i)i=Math.abs(tablist.length+i);i=i%tablist.length;var tabitem=tablist[i];var panel=tabpanel[i];if(null!==selected){tablist[selected].setAttribute("aria-selected","false");tabpanel[selected].setAttribute("aria-hidden","true");tabpanel[selected].setAttribute("aria-expanded","false")}tabitem.setAttribute("aria-selected","true");panel.setAttribute("aria-hidden","false");panel.setAttribute("aria-expanded","true");tabitem.focus();selected=i;return this};this.selectNext=function(){if(null!==selected)return this.select(selected+1);return this.select(0)};this.selectPrevious=function(){if(null!==selected)return this.select(selected-1);return this.select(0)}};this.get=function(id){var tab=null;if(id instanceof HTMLElement){tab=id;if(null===(id=tab.getAttribute("id")))tab.setAttribute("id","tabs_"+Hoa.uuid())}else tab=Hoa.$("#"+id);if(undefined!==tabs[id])return tabs[id];return tabs[id]=new TabTemplate(tab)};var selector='[data-tabs] [role="tablist"] [role="tab"]';var getTab=function(p){while(null!==(p=p.parentElement)&&false===p.hasAttribute("data-tabs"));return that.get(p.getAttribute("id"))};Hoa.Event.on("click",selector,function(evt){var tabitem=evt.target;var tab=getTab(tabitem);tab.select(tabitem.getAttribute("data-tab-index"));evt.preventDefault();return});Hoa.Event.on("keydown",selector,function(evt){var tabitem=evt.target;var tab=getTab(tabitem);var keyboard=Hoa.Keyboard;switch(evt.keyCode){case keyboard.LEFT:case keyboard.UP:tab.selectPrevious();break;case keyboard.RIGHT:case keyboard.DOWN:tab.selectNext();break;case keyboard.HOME:tab.select(0);break;case keyboard.END:tab.select(-1);break;default:return}evt.preventDefault()});Hoa.Document.onReady(function(){var tabs=Hoa.$$("[data-tabs]");for(var i=0,max=tabs.length;i<max;++i){if(null===tabs[i].getAttribute("id"))tabs[i].setAttribute("id","tabs_"+Hoa.uuid())}})});var Dz={remoteWindows:[],idx:-1,step:0,html:null,slides:null,progressBar:null,params:{autoplay:"1"}};Dz.init=function(){document.body.className="loaded";this.slides=Array.prototype.slice.call($$("body > section"));this.progressBar=$("#progress-bar");this.html=document.body.parentNode;this.setupParams();this.onhashchange();this.setupTouchEvents();this.onresize();this.setupView()};Dz.setupParams=function(){var p=window.location.search.substr(1).split("&");p.forEach(function(e,i,a){var keyVal=e.split("=");Dz.params[keyVal[0]]=decodeURIComponent(keyVal[1])});if(!+this.params.autoplay){$$.forEach($$("video"),function(v){v.controls=true})}};Dz.onkeydown=function(aEvent){if(aEvent.altKey||aEvent.ctrlKey||aEvent.metaKey||aEvent.shiftKey){return}if($(":focus")instanceof HTMLInputElement&&aEvent.keyCode!=13){return}if(aEvent.keyCode==37||aEvent.keyCode==38||aEvent.keyCode==33){aEvent.preventDefault();this.back()}if(aEvent.keyCode==39||aEvent.keyCode==40||aEvent.keyCode==34){aEvent.preventDefault();this.forward()}if(aEvent.keyCode==35){aEvent.preventDefault();this.goEnd()}if(aEvent.keyCode==36){aEvent.preventDefault();this.goStart()}if(aEvent.keyCode==32){aEvent.preventDefault();this.toggleContent()}if(aEvent.keyCode==70){aEvent.preventDefault();this.goFullscreen()}if(aEvent.keyCode==79){aEvent.preventDefault();this.toggleView()}};Dz.setupTouchEvents=function(){var orgX,newX;var tracking=false;var db=document.body;db.addEventListener("touchstart",start.bind(this),false);db.addEventListener("touchmove",move.bind(this),false);function start(aEvent){aEvent.preventDefault();tracking=true;orgX=aEvent.changedTouches[0].pageX}function move(aEvent){if(!tracking){return}newX=aEvent.changedTouches[0].pageX;if(orgX-newX>100){tracking=false;this.forward()}else if(orgX-newX<-100){tracking=false;this.back()}}};Dz.setupView=function(){document.body.addEventListener("click",function(e){if(!Dz.html.classList.contains("view")){return}if(!e.target||e.target.nodeName!="SECTION"){return}Dz.html.classList.remove("view");Dz.setCursor(Dz.slides.indexOf(e.target)+1)},false)};Dz.onresize=function(){var db=document.body;var sx=db.clientWidth/window.innerWidth;var sy=db.clientHeight/window.innerHeight;var transform="scale("+1/Math.max(sx,sy)+")";db.style.MozTransform=transform;db.style.WebkitTransform=transform;db.style.OTransform=transform;db.style.msTransform=transform;db.style.transform=transform};Dz.getNotes=function(aIdx){var s=$("section:nth-of-type("+aIdx+")");var d=s.$('[role="note"]');return d?d.innerHTML:""};Dz.onmessage=function(aEvent){var argv=aEvent.data.split(" "),argc=argv.length;argv.forEach(function(e,i,a){a[i]=decodeURIComponent(e)});var win=aEvent.source;if(argv[0]==="REGISTER"&&argc===1){this.remoteWindows.push(win);this.postMsg(win,"REGISTERED",document.title,this.slides.length);this.postMsg(win,"CURSOR",this.idx+"."+this.step);return}if(argv[0]==="BACK"&&argc===1){this.back()}if(argv[0]==="FORWARD"&&argc===1){this.forward()}if(argv[0]==="START"&&argc===1){this.goStart()}if(argv[0]==="END"&&argc===1){this.goEnd()}if(argv[0]==="TOGGLE_CONTENT"&&argc===1){this.toggleContent()}if(argv[0]==="SET_CURSOR"&&argc===2){window.location.hash="#"+argv[1]}if(argv[0]==="GET_CURSOR"&&argc===1){this.postMsg(win,"CURSOR",this.idx+"."+this.step)}if(argv[0]==="GET_NOTES"&&argc===1){this.postMsg(win,"NOTES",this.getNotes(this.idx))}};Dz.toggleContent=function(){var s=$("section[aria-selected]");if(s){var video=s.$("video");if(video){if(video.ended||video.paused){video.play()}else{video.pause()}}}};Dz.setCursor=function(aIdx,aStep){aStep=aStep!=0&&typeof aStep!=="undefined"?"."+aStep:".0";window.location.hash="#"+aIdx+aStep};Dz.onhashchange=function(){var cursor=window.location.hash.split("#"),newidx=1,newstep=0;if(cursor.length==2){newidx=~~cursor[1].split(".")[0];newstep=~~cursor[1].split(".")[1];if(newstep>Dz.slides[newidx-1].$$(".incremental > *").length){newstep=0;newidx++}}this.setProgress(newidx,newstep);if(newidx!=this.idx){this.setSlide(newidx)}if(newstep!=this.step){this.setIncremental(newstep)}for(var i=0;i<this.remoteWindows.length;i++){this.postMsg(this.remoteWindows[i],"CURSOR",this.idx+"."+this.step)}};Dz.back=function(){if(this.idx==1&&this.step==0){return}if(this.step==0){this.setCursor(this.idx-1,this.slides[this.idx-2].$$(".incremental > *").length)}else{this.setCursor(this.idx,this.step-1)}};Dz.forward=function(){if(this.idx>=this.slides.length&&this.step>=this.slides[this.idx-1].$$(".incremental > *").length){return}if(this.step>=this.slides[this.idx-1].$$(".incremental > *").length){this.setCursor(this.idx+1,0)}else{this.setCursor(this.idx,this.step+1)}};Dz.goStart=function(){this.setCursor(1,0)};Dz.goEnd=function(){var lastIdx=this.slides.length;var lastStep=this.slides[lastIdx-1].$$(".incremental > *").length;this.setCursor(lastIdx,lastStep)};Dz.toggleView=function(){this.html.classList.toggle("view");if(this.html.classList.contains("view")){$("section[aria-selected]").scrollIntoView(true)}};Dz.setSlide=function(aIdx){this.idx=aIdx;var old=$("section[aria-selected]");var next=$("section:nth-of-type("+this.idx+")");if(old){old.removeAttribute("aria-selected");var video=old.$("video");if(video){video.pause()}var iframes=old.$$("iframe");for(var i=0;i<iframes.length;++i){var iframe=iframes.item(i);iframe.setAttribute("data-src",iframe.getAttribute("src"));iframe.setAttribute("src","about:blank")}}if(next){next.setAttribute("aria-selected","true");if(this.html.classList.contains("view")){next.scrollIntoView()}var video=next.$("video");if(video&&!!+this.params.autoplay){video.play()}window.setTimeout(function(){var iframes=next.$$("iframe");for(var i=0;i<iframes.length;++i){var iframe=iframes.item(i);iframe.setAttribute("src",iframe.getAttribute("data-src"))}},500)}else{this.idx=-1}};Dz.setIncremental=function(aStep){this.step=aStep;var old=this.slides[this.idx-1].$(".incremental > *[aria-selected]");if(old){old.removeAttribute("aria-selected");old.parentNode.removeAttribute("data-active");var p=old;while("SECTION"!==p.tagName){p.removeAttribute("data-active");p=p.parentNode}}var incrementals=$$(".incremental");if(this.step<=0){$$.forEach(incrementals,function(aNode){aNode.removeAttribute("data-active")});return}var next=this.slides[this.idx-1].$$(".incremental > *")[this.step-1];if(next){next.setAttribute("aria-selected",true);var p=next.parentNode;var greatestIncrementalParent=null;while("SECTION"!==p.tagName){if(p.classList.contains("incremental")){
greatestIncrementalParent=p}p=p.parentNode}p=next.parentNode;if(null!==greatestIncrementalParent){while("SECTION"!==p.tagName){p.setAttribute("data-active",true);p=p.parentNode}}if(next.hasAttribute("onincrement")){next.onincrement=new Function(next.getAttribute("onincrement"));next.onincrement()}}else{setCursor(this.idx,0)}return next};Dz.goFullscreen=function(){var html=$("html"),requestFullscreen=html.requestFullscreen||html.requestFullScreen||html.mozRequestFullScreen||html.webkitRequestFullScreen;if(requestFullscreen){requestFullscreen.apply(html)}};Dz.setProgress=function(aIdx,aStep){var slide=$("section:nth-of-type("+aIdx+")");if(!slide){return}var steps=slide.$$(".incremental > *").length+1,slideSize=100/(this.slides.length-1),stepSize=slideSize/steps;this.progressBar.style.width=(aIdx-1)*slideSize+aStep*stepSize+"%"};Dz.postMsg=function(aWin,aMsg){aMsg=[aMsg];for(var i=2;i<arguments.length;i++){aMsg.push(encodeURIComponent(arguments[i]))}aWin.postMessage(aMsg.join(" "),"*")};function init(){Dz.init();window.onkeydown=Dz.onkeydown.bind(Dz);window.onresize=Dz.onresize.bind(Dz);window.onhashchange=Dz.onhashchange.bind(Dz);window.onmessage=Dz.onmessage.bind(Dz)}window.onload=init;if(!Function.prototype.bind){Function.prototype.bind=function(oThis){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be fBound is not callable")}var aArgs=Array.prototype.slice.call(arguments,1),fToBind=this,fNOP=function(){},fBound=function(){return fToBind.apply(this instanceof fNOP?this:oThis||window,aArgs.concat(Array.prototype.slice.call(arguments)))};fNOP.prototype=this.prototype;fBound.prototype=new fNOP;return fBound}}var $=(HTMLElement.prototype.$=function(aQuery){return this.querySelector(aQuery)}).bind(document);var $$=(HTMLElement.prototype.$$=function(aQuery){return this.querySelectorAll(aQuery)}).bind(document);$$.forEach=function(nodeList,fun){Array.prototype.forEach.call(nodeList,fun)};self=typeof window!=="undefined"?window:typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope?self:{};var Prism=function(){var lang=/\blang(?:uage)?-(?!\*)(\w+)\b/i;var _=self.Prism={util:{encode:function(tokens){if(tokens instanceof Token){return new Token(tokens.type,_.util.encode(tokens.content),tokens.alias)}else if(_.util.type(tokens)==="Array"){return tokens.map(_.util.encode)}else{return tokens.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")}},type:function(o){return Object.prototype.toString.call(o).match(/\[object (\w+)\]/)[1]},clone:function(o){var type=_.util.type(o);switch(type){case"Object":var clone={};for(var key in o){if(o.hasOwnProperty(key)){clone[key]=_.util.clone(o[key])}}return clone;case"Array":return o.slice()}return o}},languages:{extend:function(id,redef){var lang=_.util.clone(_.languages[id]);for(var key in redef){lang[key]=redef[key]}return lang},insertBefore:function(inside,before,insert,root){root=root||_.languages;var grammar=root[inside];if(arguments.length==2){insert=arguments[1];for(var newToken in insert){if(insert.hasOwnProperty(newToken)){grammar[newToken]=insert[newToken]}}return grammar}var ret={};for(var token in grammar){if(grammar.hasOwnProperty(token)){if(token==before){for(var newToken in insert){if(insert.hasOwnProperty(newToken)){ret[newToken]=insert[newToken]}}}ret[token]=grammar[token]}}_.languages.DFS(_.languages,function(key,value){if(value===root[inside]&&key!=inside){this[key]=ret}});return root[inside]=ret},DFS:function(o,callback,type){for(var i in o){if(o.hasOwnProperty(i)){callback.call(o,i,o[i],type||i);if(_.util.type(o[i])==="Object"){_.languages.DFS(o[i],callback)}else if(_.util.type(o[i])==="Array"){_.languages.DFS(o[i],callback,i)}}}}},highlightAll:function(async,callback){var elements=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code');for(var i=0,element;element=elements[i++];){_.highlightElement(element,async===true,callback)}},highlightElement:function(element,async,callback){var language,grammar,parent=element;while(parent&&!lang.test(parent.className)){parent=parent.parentNode}if(parent){language=(parent.className.match(lang)||[,""])[1];grammar=_.languages[language]}if(!grammar){return}element.className=element.className.replace(lang,"").replace(/\s+/g," ")+" language-"+language;parent=element.parentNode;if(/pre/i.test(parent.nodeName)){parent.className=parent.className.replace(lang,"").replace(/\s+/g," ")+" language-"+language}var code=element.textContent;if(!code){return}var env={element:element,language:language,grammar:grammar,code:code};_.hooks.run("before-highlight",env);if(async&&self.Worker){var worker=new Worker(_.filename);worker.onmessage=function(evt){env.highlightedCode=Token.stringify(JSON.parse(evt.data),language);_.hooks.run("before-insert",env);env.element.innerHTML=env.highlightedCode;callback&&callback.call(env.element);_.hooks.run("after-highlight",env)};worker.postMessage(JSON.stringify({language:env.language,code:env.code}))}else{env.highlightedCode=_.highlight(env.code,env.grammar,env.language);_.hooks.run("before-insert",env);env.element.innerHTML=env.highlightedCode;callback&&callback.call(element);_.hooks.run("after-highlight",env)}},highlight:function(text,grammar,language){var tokens=_.tokenize(text,grammar);return Token.stringify(_.util.encode(tokens),language)},tokenize:function(text,grammar,language){var Token=_.Token;var strarr=[text];var rest=grammar.rest;if(rest){for(var token in rest){grammar[token]=rest[token]}delete grammar.rest}tokenloop:for(var token in grammar){if(!grammar.hasOwnProperty(token)||!grammar[token]){continue}var patterns=grammar[token];patterns=_.util.type(patterns)==="Array"?patterns:[patterns];for(var j=0;j<patterns.length;++j){var pattern=patterns[j],inside=pattern.inside,lookbehind=!!pattern.lookbehind,lookbehindLength=0,alias=pattern.alias;pattern=pattern.pattern||pattern;for(var i=0;i<strarr.length;i++){var str=strarr[i];if(strarr.length>text.length){break tokenloop}if(str instanceof Token){continue}pattern.lastIndex=0;var match=pattern.exec(str);if(match){if(lookbehind){lookbehindLength=match[1].length}var from=match.index-1+lookbehindLength,match=match[0].slice(lookbehindLength),len=match.length,to=from+len,before=str.slice(0,from+1),after=str.slice(to+1);var args=[i,1];if(before){args.push(before)}var wrapped=new Token(token,inside?_.tokenize(match,inside):match,alias);args.push(wrapped);if(after){args.push(after)}Array.prototype.splice.apply(strarr,args)}}}}return strarr},hooks:{all:{},add:function(name,callback){var hooks=_.hooks.all;hooks[name]=hooks[name]||[];hooks[name].push(callback)},run:function(name,env){var callbacks=_.hooks.all[name];if(!callbacks||!callbacks.length){return}for(var i=0,callback;callback=callbacks[i++];){callback(env)}}}};var Token=_.Token=function(type,content,alias){this.type=type;this.content=content;this.alias=alias};Token.stringify=function(o,language,parent){if(typeof o=="string"){return o}if(Object.prototype.toString.call(o)=="[object Array]"){return o.map(function(element){return Token.stringify(element,language,o)}).join("")}var env={type:o.type,content:Token.stringify(o.content,language,parent),tag:"span",classes:["token",o.type],attributes:{},language:language,parent:parent};if(env.type=="comment"){env.attributes["spellcheck"]="true"}if(o.alias){var aliases=_.util.type(o.alias)==="Array"?o.alias:[o.alias];Array.prototype.push.apply(env.classes,aliases)}_.hooks.run("wrap",env);var attributes="";for(var name in env.attributes){attributes+=name+'="'+(env.attributes[name]||"")+'"'}return"<"+env.tag+' class="'+env.classes.join(" ")+'" '+attributes+">"+env.content+"</"+env.tag+">"};if(!self.document){if(!self.addEventListener){return self.Prism}self.addEventListener("message",function(evt){var message=JSON.parse(evt.data),lang=message.language,code=message.code;self.postMessage(JSON.stringify(_.util.encode(_.tokenize(code,_.languages[lang]))));self.close()},false);return self.Prism}var script=document.getElementsByTagName("script");script=script[script.length-1];if(script){_.filename=script.src;if(document.addEventListener&&!script.hasAttribute("data-manual")){document.addEventListener("DOMContentLoaded",_.highlightAll)}}return self.Prism}();if(typeof module!=="undefined"&&module.exports){module.exports=Prism}Prism.languages.markup={comment:/<!--[\w\W]*?-->/g,prolog:/<\?.+?\?>/,doctype:/<!DOCTYPE.+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|[^\s'">=]+))?\s*)*\/?>/gi,inside:{tag:{pattern:/^<\/?[\w:-]+/i,inside:{punctuation:/^<\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|>|"/g}},punctuation:/\/?>/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/\&#?[\da-z]{1,8};/gi};Prism.hooks.add("wrap",function(env){if(env.type==="entity"){env.attributes["title"]=env.content.replace(/&amp;/,"&")}});Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*{))/gi,inside:{punctuation:/[;:]/g}},url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\};]*(?=\s*\{)/g,property:/(\b|\B)[\w-]+(?=\s*:)/gi,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,punctuation:/[\{\};:]/g,function:/[-a-z0-9]+(?=\()/gi};if(Prism.languages.markup){Prism.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/gi,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css},alias:"language-css"}});Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').+?\1/gi,inside:{"attr-name":{pattern:/^\s*style/gi,inside:Prism.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/gi,inside:Prism.languages.css}},alias:"language-css"}},Prism.languages.markup.tag)}Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//g,lookbehind:true},{pattern:/(^|[^\\:])\/\/.*?(\r?\n|$)/g,lookbehind:true}],string:/("|')(\\?.)*?\1/g,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/gi,lookbehind:true,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/g,boolean:/\b(true|false)\b/g,function:{pattern:/[a-z0-9_]+\(/gi,inside:{punctuation:/\(/}},number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,operator:/[-+]{1,2}|!|<=?|>=?|={1,3}|&{1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g};Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|function|get|if|implements|import|in|instanceof|interface|let|new|null|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g});Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:true}});if(Prism.languages.markup){Prism.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/gi,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript},alias:"language-javascript"}})}(function(){if(!self.Prism||!self.document||!document.querySelector){return}var Extensions={js:"javascript",html:"markup",svg:"markup",xml:"markup",py:"python",rb:"ruby"};Array.prototype.slice.call(document.querySelectorAll("pre[data-src]")).forEach(function(pre){var src=pre.getAttribute("data-src");var extension=(src.match(/\.(\w+)$/)||[,""])[1];var language=Extensions[extension]||extension;var code=document.createElement("code");code.className="language-"+language;pre.textContent="";code.textContent="Loading…";pre.appendChild(code);var xhr=new XMLHttpRequest;xhr.open("GET",src,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status<400&&xhr.responseText){code.textContent=xhr.responseText;Prism.highlightElement(code)}else if(xhr.status>=400){code.textContent="✖ Error "+xhr.status+" while fetching file: "+xhr.statusText}else{code.textContent="✖ Error: File does not exist or is empty"}}};xhr.send(null)})})();(function(){if(!window.Prism){return}function $$(expr,con){return Array.prototype.slice.call((con||document).querySelectorAll(expr))}function hasClass(element,className){className=" "+className+" ";return(" "+element.className+" ").replace(/[\n\t]/g," ").indexOf(className)>-1}var CRLF=crlf=/\r?\n|\r/g;function highlightLines(pre,lines,classes){var ranges=lines.replace(/\s+/g,"").split(","),offset=+pre.getAttribute("data-line-offset")||0;var lineHeight=parseFloat(getComputedStyle(pre).lineHeight);for(var i=0,range;range=ranges[i++];){range=range.split("-");var start=+range[0],end=+range[1]||start;var line=document.createElement("div");line.textContent=Array(end-start+2).join(" \r\n");line.className=(classes||"")+" line-highlight";if(!hasClass(pre,"line-numbers")){line.setAttribute("data-start",start);if(end>start){line.setAttribute("data-end",end)}}line.style.top=(start-offset-1)*lineHeight+"px";if(hasClass(pre,"line-numbers")){pre.appendChild(line)}else{(pre.querySelector("code")||pre).appendChild(line)}}}function applyHash(){var hash=location.hash.slice(1);$$(".temporary.line-highlight").forEach(function(line){line.parentNode.removeChild(line)});var range=(hash.match(/\.([\d,-]+)$/)||[,""])[1];if(!range||document.getElementById(hash)){return}var id=hash.slice(0,hash.lastIndexOf(".")),pre=document.getElementById(id);if(!pre){return}if(!pre.hasAttribute("data-line")){pre.setAttribute("data-line","")}highlightLines(pre,range,"temporary ");document.querySelector(".temporary.line-highlight").scrollIntoView()}var fakeTimer=0;Prism.hooks.add("after-highlight",function(env){var pre=env.element.parentNode;var lines=pre&&pre.getAttribute("data-line");if(!pre||!lines||!/pre/i.test(pre.nodeName)){return}clearTimeout(fakeTimer);$$(".line-highlight",pre).forEach(function(line){line.parentNode.removeChild(line)});highlightLines(pre,lines);fakeTimer=setTimeout(applyHash,1)});addEventListener("hashchange",applyHash)})();